function setCookie(e,t,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function checkCookie(){switch(getCookie("ipAddress")){case"US":setCookie("modalCheck",!1,1);break;case"":ipAddressCheck();break;default:shippingModal(getCookie("modalCheck"))}}function shippingModal(e){switch(e){case"true":$("#shipping_message").css({display:"block"});break;case"false":break;default:setCookie("modalCheck",!0,1)}}function shippingClose(){$("#shipping_message").css({display:"none"}),setCookie("modalCheck",!1,1)}function ipAddressCheck(){$.get("https://ipinfo.io",function(e){setCookie("ipAddress",e.country,1),checkCookie()},"jsonp")}function registerFormPrevious(){$("#section4").is(":visible")?($("#section3").show(),$("#section4").hide(),$("#progress").css("width","66%"),$("#step4").css("color","#d8d8d8")):$("#section3").is(":visible")?($("#section2").show(),$("#section3").hide(),$("#progress").css("width","33%"),$("#step3").css("color","#d8d8d8")):$("#section2").is(":visible")&&($("#section1").show(),$("#section2").hide(),$("#progress").css("width","0%"),$("#step2").css("color","#d8d8d8"))}function registerPOST(e){$.ajax({url:"https://81022de0.ngrok.io/spacelabs/register",type:"POST",crossDomain:!0,data:e,dataType:"json",success:function(t,i,n){contactPOST(e),openModal("modal-success")},error:function(e,t,i){var n=document.getElementById("error-box");for(var a in e.responseJSON.error.errors){var c=a,o=document.createElement("p"),l=document.createTextNode(c+" "+e.responseJSON.error.errors[c][0]);o.appendChild(l),n.appendChild(o)}openModal("modal-error")}})}function openModal(e){if("string"==typeof e)$("#"+e).addClass("show-modal").fadeIn(300),$("#"+e).removeClass("hidden-modal");else if("object"==typeof e){var t=e.getAttribute("modal");$("#"+t).addClass("show-modal").fadeIn(300),$("#"+t).removeClass("hidden-modal")}else console.log("There is an issue with the modal")}function closeModal(e){var t=e.getAttribute("modal");$("#"+t).removeClass("show-modal"),$("#"+t).addClass("hidden-modal").fadeOut(300),$("#error-box").empty()}$('a[href^="http"]').not('a[href^="'+$(location).attr("hostname")+'"]').attr("target","_blank"),checkCookie(),$(".next").click(function(){var e=$("#contact_form");$.validator.messages.required="",e.validate({debug:!0,errorClass:"error",validClass:"success",errorElement:"label",errorPlacement:function(e,t){e.insertAfter(t.parent())},highlight:function(e,t,i){$(e).parents("div.form-field").find(".form-field-input").addClass("form-field-error")},unhighlight:function(e,t,i){$(e).parents("div.form-field").find(".form-field-input").removeClass("form-field-error"),$(e).parents("div.form-field").find(".error").remove()},rules:{"contact[Firstname]":{required:!0,maxlength:50},"contact[Lastname]":{required:!0,maxlength:50},"contact[email]":{required:!0,maxlength:100,email:!0},"contact[Phone]":{required:!0,number:!0,minlength:9},"contact[Occupation]":{required:!0},"contact[BusinessType]":{required:!0},"contact[BillingName]":{required:!0,maxlength:100},"contact[BillingAddress]":{required:!0,maxlength:100},"contact[BillingAddressCity]":{required:!0,maxlength:100},"contact[BillingAddressState]":{required:!0},"contact[BillingAddressZip]":{required:!0,minlength:5},"contact[BillingFullName]":{required:!0,maxlength:100},"contact[BillingNumber]":{required:!0,number:!0,minlength:9},"contact[BillingEmail]":{required:!0,maxlength:100,email:!0},"contact[BillingEntity]":{required:!0,maxlength:20},"contact[FederalIdentificationNumber]":{required:!0,maxlength:20},"contact[StateOfIncorporation]":{required:!0,maxlength:20},"contact[BillingContactName]":{required:!0,maxlength:100},"contact[BillingContactNumber]":{required:!0,number:!0,minlength:9,maxlength:20},"contact[BillingContactEmail]":{required:!0,maxlength:100,email:!0},"contact[FacilityName]":{required:!0,minlength:2,maxlength:100},"contact[FacilityAddress]":{required:!0,minlength:2,maxlength:100},"contact[FacilityAddressCity]":{required:!0,minlength:2,maxlength:100},"contact[FacilityAddressState]":{required:!0},"contact[FacilityAddressZip]":{required:!0,minlength:5},"contact[FacilityContactFullName]":{required:!0,minlength:2,maxlength:100},"contact[FacilityContactNumber]":{required:!0,number:!0,minlength:9,maxlength:20},"contact[FacilityContactEmail]":{required:!0,minlength:2,maxlength:100,email:!0},"contact[ShippingName]":{required:!0,minlength:2},"contact[ShippingAddress]":{required:!0,minlength:2,maxlength:100},"contact[ShippingAddressCity]":{required:!0,minlength:2,maxlength:100},"contact[ShippingAddressState]":{required:!0},"contact[ShippingAddressZip]":{required:!0,minlength:5},"contact[ShippingContactFullName]":{required:!0,minlength:2,maxlength:100},"contact[ShippingContactNumber]":{required:!0,number:!0,minlength:9,maxlength:20},"contact[ShippingContactEmail]":{required:!0,minlength:2,maxlength:100,email:!0}},submitHandler:function(e){registerPOST($("#contact_form").serialize())}}),1==e.valid()&&($("#section1").is(":visible")?($("#section2").show(),$("#section1").hide(),$("#progress").css("width","33%"),$("#step2").css("color","#5cb85c")):$("#section2").is(":visible")?($("#section3").show(),$("#section2").hide(),$("#progress").css("width","66%"),$("#step3").css("color","#5cb85c")):$("#section3").is(":visible")&&($("#section4").show(),$("#section3").hide(),$("#progress").css("width","100%"),$("#step4").css("color","#5cb85c")))}),$("#facility_same_as_billing").on("change",function(){this.checked&&($("#contact_facility_name").val($("#contact_billing_name").val()),$("#contact_facility_address").val($("#contact_billing_address").val()),$("#contact_facility_city").val($("#contact_billing_city").val()),$("#contact_facility_state").val($("#contact_billing_state").val()),$("#contact_facility_zip").val($("#contact_billing_zip").val()),$("#contact_facility_fullname").val($("#contact_billing_fullname").val()),$("#contact_facility_number").val($("#contact_billing_number").val()),$("#contact_facility_email").val($("#contact_billing_email").val()))}),$("#shipping_same_as_billing").on("change",function(){this.checked&&($("#contact_shipping_name").val($("#contact_billing_name").val()),$("#contact_shipping_address").val($("#contact_billing_address").val()),$("#contact_shipping_city").val($("#contact_billing_city").val()),$("#contact_shipping_state").val($("#contact_billing_state").val()),$("#contact_shipping_zip").val($("#contact_billing_zip").val()),$("#contact_shipping_fullname").val($("#contact_billing_fullname").val()),$("#contact_shipping_number").val($("#contact_billing_number").val()),$("#contact_shipping_email").val($("#contact_billing_email").val()))}),$(function(){$(".tabs-nav a").click(function(e){e.preventDefault(),$(this).hasClass("active-tab")||($(".tabs-nav a").removeClass("active-tab"),$(".content").hide(),$(".content-"+$(this).attr("class")).show(),$(this).addClass("active-tab"))})});