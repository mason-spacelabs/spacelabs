function setCookie(e,t,i){var n=new Date;n.setTime(n.getTime()+24*i*60*60*1e3);var a="expires="+n.toUTCString();document.cookie=e+"="+t+";"+a+";path=/"}function getCookie(e){for(var t=e+"=",i=document.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "==a.charAt(0);)a=a.substring(1);if(0==a.indexOf(t))return a.substring(t.length,a.length)}return""}function checkCookie(){switch(getCookie("ipAddress")){case"US":setCookie("modalCheck",!1,1);break;case"":ipAddressCheck();break;default:shippingModal(getCookie("modalCheck"))}}function shippingModal(e){switch(e){case"true":$("#shipping_message").css({display:"block"});break;case"false":break;default:setCookie("modalCheck",!0,1)}}function shippingClose(){$("#shipping_message").css({display:"none"}),setCookie("modalCheck",!1,1)}function ipAddressCheck(){$.get("https://ipinfo.io",function(e){setCookie("ipAddress",e.country,1),checkCookie()},"jsonp")}function registerFormPrevious(){$("#section5").is(":visible")?($("#section4").show(),$("#section5").hide()):$("#section4").is(":visible")?($("#section3").show(),$("#section4").hide(),$("#progress").css("width","66%"),$("#step4").css("color","#d8d8d8")):$("#section3").is(":visible")?($("#section2").show(),$("#section3").hide(),$("#progress").css("width","33%"),$("#step3").css("color","#d8d8d8")):$("#section2").is(":visible")&&($("#section1").show(),$("#section2").hide(),$("#progress").css("width","0%"),$("#step2").css("color","#d8d8d8"))}function openModal(e){if("string"==typeof e)$("#"+e).addClass("show-modal").fadeIn(300),$("#"+e).removeClass("hidden-modal");else if("object"==typeof e){var t=e.getAttribute("modal");$("#"+t).addClass("show-modal").fadeIn(300),$("#"+t).removeClass("hidden-modal")}else console.log("There is an issue with the modal")}function closeModal(e,t){var i=e.getAttribute("modal");$("#"+i).removeClass("show-modal"),$("#"+i).addClass("hidden-modal").fadeOut(300),$("#error-box").empty(),1==t&&$("#contact_phone").mask("(000) 000-0000")}function hospitalTrigger(e){"yes"==e?$(".hospital-questions").css("display","block"):$(".hospital-questions").css("display","none")}$('a[href^="http"]').not('a[href^="'+$(location).attr("hostname")+'"]').attr("target","_blank"),checkCookie(),$(".next").click(function(){var e=$("#contact_form");$.validator.messages.required="",e.validate({debug:!0,errorClass:"error",validClass:"success",errorElement:"label",errorPlacement:function(e,t){e.insertAfter(t.parent())},highlight:function(e,t,i){$(e).parents("div.form-field").find(".form-field-input").addClass("form-field-error")},unhighlight:function(e,t,i){$(e).parents("div.form-field").find(".form-field-input").removeClass("form-field-error"),$(e).parents("div.form-field").find(".error").remove()},rules:{"contact[Firstname]":{required:!0,maxlength:50},"contact[Lastname]":{required:!0,maxlength:50},"contact[email]":{required:!0,maxlength:100,email:!0},"contact[Phone]":{required:!0},"contact[Occupation]":{required:!0},"contact[BusinessType]":{required:!0},"contact[BillingName]":{required:!0,maxlength:100},"contact[BillingAddress]":{required:!0,maxlength:100},"contact[BillingAddressCity]":{required:!0,maxlength:100},"contact[BillingAddressState]":{required:!0},"contact[BillingAddressZip]":{required:!0},"contact[BillingFullName]":{required:!0,maxlength:100},"contact[BillingNumber]":{required:!0},"contact[BillingEmail]":{required:!0,maxlength:100,email:!0},"contact[BillingEntity]":{required:!0,maxlength:20},"contact[FederalIdentificationNumber]":{required:!0},"contact[YearBusinessStarted]":{required:!0},"contact[EmployeeNumber]":{required:!0},"contact[StateOfIncorporation]":{required:!0,maxlength:20},"contact[ExportProductsTaxable]":{required:!0},"contact[ExportSpacelabsProducts]":{required:!0},"contact[DunBradstreetNumber]":{required:!0},"contact[BillingContactName]":{required:!0,maxlength:100},"contact[BillingContactNumber]":{required:!0},"contact[BillingContactEmail]":{required:!0,maxlength:100,email:!0},"contact[FacilityName]":{required:!0,minlength:2,maxlength:100},"contact[FacilityAddress]":{required:!0,minlength:2,maxlength:100},"contact[FacilityAddressCity]":{required:!0,minlength:2,maxlength:100},"contact[FacilityAddressState]":{required:!0},"contact[FacilityAddressZip]":{required:!0},"contact[FacilityHospital]":{required:!0},"contact[FacilityContactFullName]":{required:!0,minlength:2,maxlength:100},"contact[FacilityContactNumber]":{required:!0,minlength:2},"contact[FacilityContactEmail]":{required:!0,minlength:2,maxlength:100,email:!0},"contact[ShippingName]":{required:!0,minlength:2},"contact[ShippingAddress]":{required:!0,minlength:2,maxlength:100},"contact[ShippingAddressCity]":{required:!0,minlength:2,maxlength:100},"contact[ShippingAddressState]":{required:!0},"contact[ShippingAddressZip]":{required:!0},"contact[ShippingContactFullName]":{required:!0,minlength:2,maxlength:100},"contact[ShippingContactNumber]":{required:!0},"contact[ShippingContactEmail]":{required:!0,minlength:2,maxlength:100,email:!0},"contact[TermsAcknowledgment]":{required:!0}},submitHandler:function(e){$("#contact_phone").unmask();var t=$("#contact_form").serialize();submitRequest(t).then(modifyForm).then(function(t){e.submit()},function(e){})}}),1==e.valid()&&($("#section1").is(":visible")?($("#section2").show(),$("#section1").hide(),$("#progress").css("width","33%"),$("#step2").css("color","#5cb85c")):$("#section2").is(":visible")?($("#section3").show(),$("#section2").hide(),$("#progress").css("width","66%"),$("#step3").css("color","#5cb85c")):$("#section3").is(":visible")?($("#section4").show(),$("#section3").hide(),$("#progress").css("width","100%"),$("#step4").css("color","#5cb85c")):$("#section4").is(":visible")&&($("#section5").show(),$("#section4").hide()))}),$("#facility_same_as_billing").on("change",function(){this.checked&&($("#contact_facility_name").val($("#contact_billing_name").val()),$("#contact_facility_address").val($("#contact_billing_address").val()),$("#contact_facility_city").val($("#contact_billing_city").val()),$("#contact_facility_state").val($("#contact_billing_state").val()),$("#contact_facility_zip").val($("#contact_billing_zip").val()),$("#contact_facility_fullname").val($("#contact_billing_fullname").val()),$("#contact_facility_number").val($("#contact_billing_number").val()),$("#contact_facility_email").val($("#contact_billing_email").val()))}),$("#shipping_same_as_billing").on("change",function(){this.checked&&($("#contact_shipping_name").val($("#contact_billing_name").val()),$("#contact_shipping_address").val($("#contact_billing_address").val()),$("#contact_shipping_city").val($("#contact_billing_city").val()),$("#contact_shipping_state").val($("#contact_billing_state").val()),$("#contact_shipping_zip").val($("#contact_billing_zip").val()),$("#contact_shipping_fullname").val($("#contact_billing_fullname").val()),$("#contact_shipping_number").val($("#contact_billing_number").val()),$("#contact_shipping_email").val($("#contact_billing_email").val()))}),$("#contact_phone").mask("(000) 000-0000"),$("#contact_billing_zip").mask("00000-0000"),$("#contact_billing_fed").mask("00-0000000"),$("#contact_billing_number").mask(" (000) 000-0000"),$("#contact_billing_year").mask("0000"),$("#contact_employee_count").mask("000000000000"),$("#contact_dun_number").mask("00-000-0000"),$("#contact_facility_zip").mask("00000-0000"),$("#contact_facility_number").mask(" (000) 000-0000"),$("#contact_facility_HIN").mask("AAA-00000-AAAA"),$("#contact_facility_GLN").mask("0000000000000"),$("#contact_facility_beds").mask("000000"),$("#contact_shipping_zip").mask("00000-0000"),$("#contact_shipping_number").mask(" (000) 000-0000"),$(function(){$(".tabs-nav a").click(function(e){e.preventDefault(),$(this).hasClass("active-tab")||($(".tabs-nav a").removeClass("active-tab"),$(".content").hide(),$(".content-"+$(this).attr("class")).show(),$(this).addClass("active-tab"))})}),$(document).ready(function(){var e=window.location.href;$("#redirect_url").val(e)}),"?contact_posted=true"===window.location.search&&($("#modal-success").addClass("show-modal").fadeIn(300),$("#modal-success").removeClass("hidden-modal"));var submitRequest=function(e){return new Promise(function(t,i){$.ajax({url:"https://d440487d.ngrok.io/spacelabs/register",type:"POST",crossDomain:!0,data:e,dataType:"json",success:function(e,i,n){t(e)},error:function(e,t,n){var a="modal-error",c=document.getElementById("error-box");if("Unprocessable Entity"!=n){var o=document.createElement("p"),s=document.createTextNode("404 Error - This is an internal Spacelabs error and your form was unable to be sent. Please contact customer service at 425-396-3300 if the problem continues.");return o.appendChild(s),c.appendChild(o),openModal(a),i(t)}var r=document.createElement("p");document.createTextNode("Errors found on the General Information tab:");c.appendChild(r);for(var l in e.responseJSON.error.errors){var d=l;o=document.createElement("p"),s=document.createTextNode(d+" "+e.responseJSON.error.errors[d][0]);o.appendChild(s),c.appendChild(o)}return openModal(a),i(e.responseJSON.error.errors)}})})},modifyForm=function(e){return new Promise(function(t,i){var n=e.response.Customer,a=e.response.Billing_Address,c=e.response.Facility_Address,o=e.response.Shipping_Address;document.getElementById("customer_id").value=n,document.getElementById("shipping_id").value=o,document.getElementById("billing_id").value=a,document.getElementById("facility_id").value=c,t(e)})};